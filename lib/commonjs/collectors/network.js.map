{"version":3,"names":["NetworkCollector","sessionId","constructor","config","transport","start","performance","trackNetworkRequests","interceptFetch","interceptXHR","debug","console","log","setSessionId","trackRequest","request","shouldIgnoreUrl","url","networkRequest","timestamp","Date","toISOString","sendNetworkRequest","originalFetch","global","fetch","self","input","init","Request","toString","method","startTime","now","response","call","duration","clonedResponse","clone","sanitizeUrl","toUpperCase","statusCode","status","durationMs","responseSize","getResponseSize","initiator","networkOptions","captureHeaders","responseHeaders","headersToObject","headers","ok","errorMessage","statusText","captureFailedOnly","error","Error","message","originalOpen","XMLHttpRequest","prototype","open","originalSend","send","async","username","password","__devskin","apply","body","xhr","devskin","handleLoad","handleError","addEventListener","includes","apiUrl","ignorePatterns","ignoreUrls","pattern","test","parsed","URL","sensitiveParams","forEach","param","searchParams","has","set","blob","size","undefined","obj","value","key","sensitiveHeaders","toLowerCase","exports"],"sourceRoot":"../../../src","sources":["collectors/network.ts"],"mappings":"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","ignoreList":[]}
